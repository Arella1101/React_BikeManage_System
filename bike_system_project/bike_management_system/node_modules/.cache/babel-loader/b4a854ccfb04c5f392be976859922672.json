{"ast":null,"code":"import \"antd/lib/row/style/css\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style/css\";\nimport _Col from \"antd/lib/col\";\nvar _jsxFileName = \"C:\\\\Users\\\\Shuwen\\\\bike_system\\\\src\\\\components\\\\Header\\\\index.js\";\nimport React from 'react';\nimport './index.less';\nimport Util from '../../utils/utils';\nimport axios from '../../axios';\nexport default class Header extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n  }\n\n  componentWillMount() {\n    this.setState({\n      userName: 'shuwen'\n    });\n    setInterval(() => {\n      let sysTime = Util.formateDate(new Date().getTime());\n      this.setState({\n        sysTime\n      });\n    }, 1000);\n    this.getWeatherAPIData();\n  }\n\n  getWeatherAPIData() {\n    let city = '上海';\n    axios.jsonp({\n      url: 'http://api.map.baidu.com/telematics/v3/weather?location=' + encodeURIComponent(city) + '&output=json&ak=3p49MVra6urFRGOT9s8UBWr2'\n    }).then(res => {\n      if (res.status == 'success') {\n        let data = res.results[0].weather_data[0];\n        this.setState({\n          dayPictureUrl: data.dayPictureUrl,\n          weather: data.weather\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(_Row, {\n      className: \"header-top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(_Col, {\n      span: \"24\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 24\n      }\n    }, \"\\u6B22\\u8FCE\\uFF0C\", this.state.userName), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }\n    }, \"\\u9000\\u51FA\"))), /*#__PURE__*/React.createElement(_Row, {\n      className: \"breadcrumb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(_Col, {\n      span: \"4\",\n      className: \"breadcrumb-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    }, \"\\u9996\\u9875\"), /*#__PURE__*/React.createElement(_Col, {\n      span: \"20\",\n      className: \"weather\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }, this.state.sysTime), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"weather-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.dayPictureUrl,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"weather-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }, this.state.weather))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Shuwen/bike_system/src/components/Header/index.js"],"names":["React","Util","axios","Header","Component","state","componentWillMount","setState","userName","setInterval","sysTime","formateDate","Date","getTime","getWeatherAPIData","city","jsonp","url","encodeURIComponent","then","res","status","data","results","weather_data","dayPictureUrl","weather","render"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,cAAP;AAEA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AAEA,eAAe,MAAMC,MAAN,SAAqBH,KAAK,CAACI,SAA3B,CAAoC;AAAA;AAAA;AAAA,SAC/CC,KAD+C,GACzC,EADyC;AAAA;;AAE/CC,EAAAA,kBAAkB,GAAE;AAChB,SAAKC,QAAL,CAAc;AACVC,MAAAA,QAAQ,EAAC;AADC,KAAd;AAGAC,IAAAA,WAAW,CAAC,MAAI;AACZ,UAAIC,OAAO,GAAGT,IAAI,CAACU,WAAL,CAAiB,IAAIC,IAAJ,GAAWC,OAAX,EAAjB,CAAd;AACA,WAAKN,QAAL,CAAc;AACVG,QAAAA;AADU,OAAd;AAGH,KALU,EAKT,IALS,CAAX;AAMA,SAAKI,iBAAL;AACJ;;AAEDA,EAAAA,iBAAiB,GAAE;AAClB,QAAIC,IAAI,GAAG,IAAX;AACAb,IAAAA,KAAK,CAACc,KAAN,CAAY;AACRC,MAAAA,GAAG,EAAC,6DAA2DC,kBAAkB,CAACH,IAAD,CAA7E,GAAoF;AADhF,KAAZ,EAEGI,IAFH,CAESC,GAAD,IAAO;AACX,UAAGA,GAAG,CAACC,MAAJ,IAAc,SAAjB,EAA2B;AACvB,YAAIC,IAAI,GAAGF,GAAG,CAACG,OAAJ,CAAY,CAAZ,EAAeC,YAAf,CAA4B,CAA5B,CAAX;AACA,aAAKjB,QAAL,CAAc;AACVkB,UAAAA,aAAa,EAACH,IAAI,CAACG,aADT;AAEVC,UAAAA,OAAO,EAACJ,IAAI,CAACI;AAFH,SAAd;AAIH;AACJ,KAVD;AAWC;;AAEDC,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,IAAI,EAAC,IAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAU,KAAKtB,KAAL,CAAWG,QAArB,CADH,eAEI;AAAG,MAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,CADJ,CADJ,eAOI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,IAAI,EAAC,GAAV;AAAc,MAAA,SAAS,EAAC,kBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAII;AAAK,MAAA,IAAI,EAAC,IAAV;AAAe,MAAA,SAAS,EAAC,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAM,MAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwB,KAAKH,KAAL,CAAWK,OAAnC,CAFJ,eAGI;AAAM,MAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAK,MAAA,GAAG,EAAE,KAAKL,KAAL,CAAWoB,aAArB;AAAoC,MAAA,GAAG,EAAC,EAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CAHJ,eAMI;AAAM,MAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKpB,KAAL,CAAWqB,OADhB,CANJ,CAJJ,CAPJ,CADJ;AA0BH;;AAzD8C","sourcesContent":["import React from 'react';\r\nimport './index.less';\r\nimport { Row, Col } from 'antd';\r\nimport Util from '../../utils/utils';\r\nimport axios from '../../axios';\r\n\r\nexport default class Header extends React.Component{\r\n    state={}\r\n    componentWillMount(){\r\n        this.setState({\r\n            userName:'shuwen'\r\n        })\r\n        setInterval(()=>{\r\n            let sysTime = Util.formateDate(new Date().getTime());\r\n            this.setState({\r\n                sysTime\r\n            })\r\n        },1000)\r\n        this.getWeatherAPIData();\r\n   }\r\n\r\n   getWeatherAPIData(){\r\n    let city = '上海';\r\n    axios.jsonp({\r\n        url:'http://api.map.baidu.com/telematics/v3/weather?location='+encodeURIComponent(city)+'&output=json&ak=3p49MVra6urFRGOT9s8UBWr2'\r\n    }).then((res)=>{\r\n        if(res.status == 'success'){\r\n            let data = res.results[0].weather_data[0];\r\n            this.setState({\r\n                dayPictureUrl:data.dayPictureUrl,\r\n                weather:data.weather\r\n            })\r\n        }\r\n    })\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"header\">\r\n                <Row className=\"header-top\">\r\n                    <Col span=\"24\">\r\n                       <span>欢迎，{this.state.userName}</span>\r\n                        <a href=\"#\">退出</a>\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"breadcrumb\">\r\n                    <Col span=\"4\" className=\"breadcrumb-title\">\r\n                        首页                   \r\n                    </Col>\r\n                    <Col span=\"20\" className=\"weather\">\r\n\r\n                        <span className=\"date\">{this.state.sysTime}</span>\r\n                        <span className=\"weather-img\">\r\n                        <img src={this.state.dayPictureUrl} alt=\"\" />\r\n                        </span>\r\n                        <span className=\"weather-detail\">\r\n                            {this.state.weather}\r\n                        </span>\r\n                    </Col>\r\n\r\n                </Row>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}