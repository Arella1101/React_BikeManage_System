{"ast":null,"code":"import \"antd/lib/modal/style/css\";\nimport _Modal from \"antd/lib/modal\";\nimport JsonP from 'jsonp';\nimport axios from 'axios';\nexport default class Axios {\n  static jsonp(options) {\n    return new Promise((resolve, reject) => {\n      JsonP(options.url, {\n        param: 'callback'\n      }, function (err, response) {\n        if (response.status == 'success') {\n          resolve(response);\n        } else {\n          reject(response.messsage);\n        }\n      });\n    });\n  }\n\n  static ajax(options) {\n    // let loading;\n    // if (options.data && options.data.isShowLoading !== false){\n    //     loading = document.getElementById('ajaxLoading');\n    //     loading.style.display = 'block';\n    // }\n    let baseApi = 'https://www.easy-mock.com/mock/5a7278e28d0c633b9c4adbd7/api';\n    return new Promise((resolve, reject) => {\n      axios({\n        url: options.url,\n        method: 'get',\n        baseURL: baseApi,\n        timeout: 5000,\n        params: options.data && options.data.params || ''\n      }).then(response => {\n        // if (options.data && options.data.isShowLoading !== false) {\n        //     loading = document.getElementById('ajaxLoading');\n        //     loading.style.display = 'none';\n        // }\n        if (response.status == '200') {\n          let res = response.data;\n\n          if (res.code == '0') {\n            resolve(res);\n          } else {\n            _Modal.info({\n              title: \"提示\",\n              content: res.msg\n            });\n          }\n        } else {\n          reject(response.data);\n        }\n      });\n    });\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Shuwen/bike_system/src/axios/index.js"],"names":["JsonP","axios","Axios","jsonp","options","Promise","resolve","reject","url","param","err","response","status","messsage","ajax","baseApi","method","baseURL","timeout","params","data","then","res","code","info","title","content","msg"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,KAAN,CAAY;AACvB,SAAOC,KAAP,CAAaC,OAAb,EAAsB;AAClB,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpCP,MAAAA,KAAK,CAACI,OAAO,CAACI,GAAT,EAAc;AACfC,QAAAA,KAAK,EAAE;AADQ,OAAd,EAEF,UAAUC,GAAV,EAAeC,QAAf,EAAyB;AACxB,YAAIA,QAAQ,CAACC,MAAT,IAAmB,SAAvB,EAAkC;AAC9BN,UAAAA,OAAO,CAACK,QAAD,CAAP;AACH,SAFD,MAEO;AACHJ,UAAAA,MAAM,CAACI,QAAQ,CAACE,QAAV,CAAN;AACH;AACJ,OARI,CAAL;AASH,KAVM,CAAP;AAWH;;AAED,SAAOC,IAAP,CAAYV,OAAZ,EAAoB;AAChB;AACA;AACA;AACA;AACA;AACA,QAAIW,OAAO,GAAG,6DAAd;AACA,WAAO,IAAIV,OAAJ,CAAY,CAACC,OAAD,EAASC,MAAT,KAAkB;AACjCN,MAAAA,KAAK,CAAC;AACFO,QAAAA,GAAG,EAACJ,OAAO,CAACI,GADV;AAEFQ,QAAAA,MAAM,EAAC,KAFL;AAGFC,QAAAA,OAAO,EAACF,OAHN;AAIFG,QAAAA,OAAO,EAAC,IAJN;AAKFC,QAAAA,MAAM,EAAGf,OAAO,CAACgB,IAAR,IAAgBhB,OAAO,CAACgB,IAAR,CAAaD,MAA9B,IAAyC;AAL/C,OAAD,CAAL,CAMGE,IANH,CAMSV,QAAD,IAAY;AAChB;AACA;AACA;AACA;AACA,YAAIA,QAAQ,CAACC,MAAT,IAAmB,KAAvB,EAA6B;AACzB,cAAIU,GAAG,GAAGX,QAAQ,CAACS,IAAnB;;AACA,cAAIE,GAAG,CAACC,IAAJ,IAAY,GAAhB,EAAoB;AAChBjB,YAAAA,OAAO,CAACgB,GAAD,CAAP;AACH,WAFD,MAEK;AACD,mBAAME,IAAN,CAAW;AACPC,cAAAA,KAAK,EAAC,IADC;AAEPC,cAAAA,OAAO,EAACJ,GAAG,CAACK;AAFL,aAAX;AAIH;AACJ,SAVD,MAUK;AACDpB,UAAAA,MAAM,CAACI,QAAQ,CAACS,IAAV,CAAN;AACH;AACJ,OAxBD;AAyBH,KA1BM,CAAP;AA2BH;;AAjDsB","sourcesContent":["import JsonP from 'jsonp'\r\nimport axios from 'axios'\r\nimport { Modal } from 'antd'\r\nexport default class Axios {\r\n    static jsonp(options) {\r\n        return new Promise((resolve, reject) => {\r\n            JsonP(options.url, {\r\n                param: 'callback'\r\n            }, function (err, response) {\r\n                if (response.status == 'success') {\r\n                    resolve(response);\r\n                } else {\r\n                    reject(response.messsage);\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    static ajax(options){\r\n        // let loading;\r\n        // if (options.data && options.data.isShowLoading !== false){\r\n        //     loading = document.getElementById('ajaxLoading');\r\n        //     loading.style.display = 'block';\r\n        // }\r\n        let baseApi = 'https://www.easy-mock.com/mock/5a7278e28d0c633b9c4adbd7/api';\r\n        return new Promise((resolve,reject)=>{\r\n            axios({\r\n                url:options.url,\r\n                method:'get',\r\n                baseURL:baseApi,\r\n                timeout:5000,\r\n                params: (options.data && options.data.params) || ''\r\n            }).then((response)=>{\r\n                // if (options.data && options.data.isShowLoading !== false) {\r\n                //     loading = document.getElementById('ajaxLoading');\r\n                //     loading.style.display = 'none';\r\n                // }\r\n                if (response.status == '200'){\r\n                    let res = response.data;\r\n                    if (res.code == '0'){\r\n                        resolve(res);\r\n                    }else{\r\n                        Modal.info({\r\n                            title:\"提示\",\r\n                            content:res.msg\r\n                        })\r\n                    }\r\n                }else{\r\n                    reject(response.data);\r\n                }\r\n            })\r\n        });\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}